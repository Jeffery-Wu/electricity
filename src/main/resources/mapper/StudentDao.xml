<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="om.huangting.electricity.dao.StudentDao">
   <insert id="add" parameterType="Student">
     insert ignore into 
     student
     values(null,#{student.name},#{student.studentID},#{student.className},#{student.department},
     #{student.sex},#{student.mobilePhone},#{student.mail},#{student.password},null,null,
     #{student.dormitoryId} )
   </insert>   
  
   <delete id="deleteById" parameterType="Long">
      delete from 
      student
      where studentID=#{student.studentID}
   </delete>
  
   <update id="updateStudent" parameterType="Student">
      update 
      student
      set 
        <set >  
      <if test="name != null" >  
        student.name = #{student.name},  
      </if>  
      <if test="studentID != null" >  
        student.studentID = #{student.studentID},  
      </if>  
      <if test="className != null" >  
        student.className = #{student.className},  
      </if>  
      <if test="department != null" >  
        student.department = #{student.department},  
      </if>  
      <if test="sex != null" >  
        student.sex = #{student.sex},  
      </if>  
      <if test="student.mobilePhone != null" >  
        student.mobilePhone = #{student.mobilePhone},  
      </if>  
      <if test="student.mail != null" >  
        student.mail = #{student.mail},  
      </if>  
      <if test="student.password!= null" >  
        student.password = #{student.password},  
      </if>  
      <if test="student.dormitoryId!= null" >  
        student.dormitoryId = #{student.dormitoryId},  
      </if>       
    </set>  
    where studentID = #{student.studentID} 
   </update>
   
   <select id="queryStudentByDormitoryId" parameterType="Integer" resultType="Student">
    select * 
    from
    student 
    where dormitoryId=#{student.dormitoryId}
   </select>
   
   <select id="queryStudentById" parameterType="Long">
   select * from student where studentId=#{student.studentID}
   </select>
</mapper>




